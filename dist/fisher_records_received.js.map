{"version":3,"sources":["../src/fisher_records_received.ts"],"names":[],"mappings":";AAAA;;;;;;;GAOG;AAEH,MAAM,OAAO,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE;IAE3C,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QAInC,2CAA2C;QAC3C,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,QAAQ,GAAG,gCAAgC,CAAC;QAEhD,OAAO,CAAC,GAAG,CAAC,8DAA8D,CAAC,CAAC;QAC5E,SAAS,IAAI,iBAAiB,GAAG,QAAQ,GAAG,+CAA+C,CAAC;QAE5F,0GAA0G;QAC1G,IAAI,KAAK,GAAG,gEAAgE,SAAS,2BAA2B,OAAO,EAAE,CAAC;QAC1H,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE;YAChC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,cAAc;gBACd,MAAM,CAAC,GAAG,CAAC,CAAC;YAChB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;gBACxC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,GAAG,wCAAwC,CAAC,CAAC;gBACzE,SAAS,IAAI,MAAM,CAAC,SAAS,GAAG,wCAAwC,CAAC;gBACzE,OAAO,CAAC,SAAS,CAAC,CAAC;YACvB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;gBACpD,SAAS,IAAI,sCAAsC,CAAC;gBACpD,OAAO,CAAC,SAAS,CAAC,CAAA;YACtB,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAA;AAEN,CAAC,CAAC;AAEF,MAAM,CAAC,OAAO,GAAG;IACb,OAAO;CACV,CAAC","file":"fisher_records_received.js","sourcesContent":["/**\n * Test that run and evaluates if any trip records were receieved during the specified time range.\n * if any records are recieved the test is passed and other tests are executed. If no records are recieved\n * the test fails and no other tests for fisher trips are done.\n * @param client\n * @param startDate\n * @param endDate\n */\n\nconst runTest = (client, startDate, endDate) => {\n\n    return new Promise((resolve, reject) => {\n\n\n\n        // Initialize logging for every console.log\n        let logString = \"\";\n        let dashline = \"--------------------------\\n\\n\";\n\n        console.log(\"Fisher Tests:\\n\\nTest 1: Were Fisher Trip records received: \");\n        logString += \"Fisher Tests:\\n\" + dashline + \"Test 1: Were Fisher Trip records received: \\n\";\n\n        //query the postgres database for fisher trips between start date and end date given, returns logging info\n        let query = `SELECT Id FROM Ablb_Fisher_Trip__c WHERE LastModifiedDate >= ${startDate} AND LastModifiedDate < ${endDate}`;\n        client.query(query, (err, result) => {\n            if (err) {\n                // error(err);\n                reject(err);\n            } else if (result && result.totalSize > 0) {\n                console.log(result.totalSize + \" trip records received - Test PASSED\\n\");\n                logString += result.totalSize + \" trip records received - Test PASSED\\n\";\n                resolve(logString);\n            } else {\n                console.log(\"No records received - Test FAILED \\n\");\n                logString += \"No records received - Test FAILED \\n\";\n                resolve(logString)\n            }\n        });\n    })\n\n};\n\nmodule.exports = {\n    runTest\n};"]}